<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.xiangyu.dao.itf.AdminDao">
	<select id="login" parameterType="string" resultType="AccountPO">
        SELECT reader_id FROM account WHERE account_name = #{username} and account_password = #{password};  
    </select>
    <select id="querySettingById" parameterType="java.lang.Integer" resultType="SettingPO">
        SELECT * FROM setting WHERE setting_id = #{settingId}; 
    </select>
    <update id="updateSetting" parameterType="SettingPO" >
    	UPDATE setting
    	 	<trim prefix="set" suffixOverrides=",">
    		<if test="lend_num !=null and lend_num != ''">lend_num=#{lend_num},</if>
	    	<if test="fine !=null and fine != ''">fine=#{fine},</if>
	    	<if test="lend_days !=null and lend_days != ''">lend_days=#{lend_days},</if>
	    	<if test="teacher_num !=null and teacher_num != ''">teacher_num=#{teacher_num},</if>
    		<if test="remark !=null and remark != ''">remark=#{remark},</if>
    		<if test="student_num !=null and student_num != ''">student_num=#{student_num},</if> 
    		</trim>
    		WHERE setting_id=#{setting_id}
    </update>
</mapper>